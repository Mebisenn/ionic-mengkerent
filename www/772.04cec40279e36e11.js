"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[772],{772:(y,h,l)=>{l.r(h),l.d(h,{PemesananPageModule:()=>j});var _=l(177),g=l(4341),o=l(5150),p=l(8465),d=l(467),f=l(1626),e=l(4438),b=l(369);function P(a,c){if(1&a){const r=e.RV6();e.j41(0,"ion-item"),e.nrm(1,"ion-icon",29),e.j41(2,"ion-label"),e.EFF(3,"Durasi Penyewaan (hari)"),e.k0s(),e.j41(4,"div",30)(5,"ion-button",31),e.bIt("click",function(){e.eBV(r);const t=e.XpG();return e.Njj(t.increment())}),e.EFF(6,"+"),e.k0s(),e.j41(7,"ion-input",32),e.mxI("ngModelChange",function(t){e.eBV(r);const i=e.XpG();return e.DH7(i.number,t)||(i.number=t),e.Njj(t)}),e.k0s(),e.j41(8,"ion-button",33),e.bIt("click",function(){e.eBV(r);const t=e.XpG();return e.Njj(t.decrement())}),e.EFF(9,"-"),e.k0s()()()}if(2&a){const r=e.XpG();e.R7$(7),e.R50("ngModel",r.number)}}function k(a,c){if(1&a){const r=e.RV6();e.j41(0,"ion-card",34)(1,"ion-card-header")(2,"ion-card-subtitle"),e.EFF(3,"Alamat :"),e.k0s()(),e.j41(4,"ion-card-content")(5,"ion-textarea",35),e.mxI("ngModelChange",function(t){e.eBV(r);const i=e.XpG();return e.DH7(i.alamat,t)||(i.alamat=t),e.Njj(t)}),e.k0s()()()}if(2&a){const r=e.XpG();e.R7$(5),e.R50("ngModel",r.alamat)}}const v=[{path:"",component:(()=>{var a;class c{constructor(n,t,i,s){this.router=n,this.http=t,this.storage=i,this.alertController=s,this.selectedDuration="",this.selectedService="antar",this.alamat="",this.number=1,this.initStorage()}initStorage(){var n=this;return(0,d.A)(function*(){yield n.storage.create()})()}ngOnInit(){const n=localStorage.getItem("selectedCar");n?this.car=JSON.parse(n):console.error("Car data is not found in localStorage")}durationChanged(){console.log("Selected duration:",this.selectedDuration)}serviceChanged(){console.log("Selected service:",this.selectedService)}increment(){this.number++}decrement(){this.number>1&&this.number--}booking(){var n=this;return(0,d.A)(function*(){if(!n.car||!n.car.id||!n.selectedDuration||!n.selectedService||"self"!==n.selectedService&&!n.alamat)return void(yield(yield n.alertController.create({header:"Error",message:"Lengkapi pengisian data.",buttons:["OK"]})).present());const t={durasi:"custom"===n.selectedDuration?`${n.number}`:n.selectedDuration,pelayanan:n.selectedService,alamat:n.alamat};console.log("Order Data:",t);const i=yield n.storage.get("auth-token");if(!i)return void(yield(yield n.alertController.create({header:"Error",message:"No authentication token found.",buttons:["OK"]})).present());const s=new f.Lr({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});n.http.post(`https://www.sipelantis.com/api/orders/${n.car.id}`,t,{headers:s}).subscribe(function(){var u=(0,d.A)(function*(m){console.log("Order successful:",m),yield(yield n.alertController.create({header:"Success",message:"Pemesanan berhasil.",buttons:["OK"]})).present(),n.router.navigate(["/transaksi"])});return function(m){return u.apply(this,arguments)}}(),function(){var u=(0,d.A)(function*(m){console.error("Error creating order:",m),yield(yield n.alertController.create({header:"Error",message:"Error creating order. Please try again.",buttons:["OK"]})).present()});return function(m){return u.apply(this,arguments)}}())})()}home(){this.router.navigate(["/home"])}order(){this.router.navigate(["/cars"])}transaksi(){this.router.navigate(["/transaksi"])}profile(){this.router.navigate(["/profile"])}}return(a=c).\u0275fac=function(n){return new(n||a)(e.rXU(p.Ix),e.rXU(f.Qq),e.rXU(b.w),e.rXU(o.hG))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-pemesanan"]],decls:58,vars:7,consts:[[1,"ion-text-center","content-center"],["id","container"],[1,"boy"],[1,"car-card"],[1,"name-car"],["alt","Deskripsi gambar",3,"src"],[1,"spek"],["name","car-outline","slot","start"],["aria-label","Durasi","interface","action-sheet","placeholder","Durasi",3,"ngModelChange","ionChange","ngModel"],["value","6jam"],["value","12jam"],["value","24jam"],["value","custom"],[4,"ngIf"],[3,"ngModelChange","ionChange","allowEmptySelection","ngModel"],["slot","end","value","driver"],["slot","end","value","antar"],["color","light",4,"ngIf"],["expand","block",3,"click"],["id","tabs"],["slot","bottom"],["id","home","tab","home",3,"click"],["name","home-outline"],["tab","radio",3,"click"],["name","car-outline"],["tab","transaksi",3,"click"],["name","cash-outline"],["tab","library",3,"click"],["name","person-outline"],["name","calendar-outline","slot","start"],[1,"number-input"],["color","black",1,"plus",3,"click"],["type","number","readonly","",3,"ngModelChange","ngModel"],["color","black",1,"minus",3,"click"],["color","light"],["placeholder","Masukan alamat rumah",3,"ngModelChange","ngModel"]],template:function(n,t){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-card")(3,"p"),e.EFF(4,"Atur Penyewaan"),e.k0s(),e.nrm(5,"br"),e.j41(6,"ion-card",2)(7,"ion-card-content")(8,"div",3)(9,"div",4),e.nrm(10,"img",5),e.k0s(),e.j41(11,"div",6)(12,"h1"),e.EFF(13),e.k0s()()()()(),e.j41(14,"ion-item"),e.nrm(15,"ion-icon",7),e.j41(16,"ion-label"),e.EFF(17,"Durasi Peminjaman"),e.k0s(),e.j41(18,"ion-select",8),e.mxI("ngModelChange",function(s){return e.DH7(t.selectedDuration,s)||(t.selectedDuration=s),s}),e.bIt("ionChange",function(){return t.durationChanged()}),e.j41(19,"ion-select-option",9),e.EFF(20,"6 Jam"),e.k0s(),e.j41(21,"ion-select-option",10),e.EFF(22,"12 Jam"),e.k0s(),e.j41(23,"ion-select-option",11),e.EFF(24,"24 Jam"),e.k0s(),e.j41(25,"ion-select-option",12),e.EFF(26,"1 hari+"),e.k0s()()(),e.DNE(27,P,10,1,"ion-item",13),e.j41(28,"ion-item"),e.nrm(29,"ion-icon",7),e.j41(30,"ion-radio-group",14),e.mxI("ngModelChange",function(s){return e.DH7(t.selectedService,s)||(t.selectedService=s),s}),e.bIt("ionChange",function(){return t.serviceChanged()}),e.j41(31,"ion-list")(32,"ion-item")(33,"ion-label"),e.EFF(34,"Pakai Driver?"),e.k0s(),e.nrm(35,"ion-radio",15),e.k0s(),e.j41(36,"ion-item")(37,"ion-label"),e.EFF(38,"Di Antar Ke Rumah?"),e.k0s(),e.nrm(39,"ion-radio",16),e.k0s()()()(),e.DNE(40,k,6,1,"ion-card",17),e.j41(41,"ion-row")(42,"ion-button",18),e.bIt("click",function(){return t.booking()}),e.EFF(43,"Next"),e.k0s()()()()(),e.j41(44,"div",19)(45,"ion-tab-bar",20)(46,"ion-tab-button",21),e.bIt("click",function(){return t.home()}),e.nrm(47,"ion-icon",22),e.EFF(48," Home "),e.k0s(),e.j41(49,"ion-tab-button",23),e.bIt("click",function(){return t.order()}),e.nrm(50,"ion-icon",24),e.EFF(51," Order "),e.k0s(),e.j41(52,"ion-tab-button",25),e.bIt("click",function(){return t.transaksi()}),e.nrm(53,"ion-icon",26),e.EFF(54," Transaksi "),e.k0s(),e.j41(55,"ion-tab-button",27),e.bIt("click",function(){return t.profile()}),e.nrm(56,"ion-icon",28),e.EFF(57," Profile "),e.k0s()()()),2&n&&(e.R7$(10),e.Y8G("src","https://www.sipelantis.com/images/"+(null==t.car?null:t.car.car_photo),e.B4B),e.R7$(3),e.JRh(null==t.car?null:t.car.nama_mobil),e.R7$(5),e.R50("ngModel",t.selectedDuration),e.R7$(9),e.Y8G("ngIf","custom"===t.selectedDuration),e.R7$(3),e.Y8G("allowEmptySelection",!0),e.R50("ngModel",t.selectedService),e.R7$(10),e.Y8G("ngIf","driver"===t.selectedService||"antar"===t.selectedService))},dependencies:[_.bT,g.BC,g.vS,o.Jm,o.b_,o.I9,o.ME,o.HW,o.W9,o.iq,o.$w,o.uz,o.he,o.nf,o.KO,o.f0,o.ln,o.Nm,o.Ip,o.Jq,o.qW,o.nc,o.su,o.Je,o.Gw],styles:["#container[_ngcontent-%COMP%]{text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;position:absolute;left:0;right:0;top:65%;transform:translateY(-50%);padding:10px;background-color:#6c71f7}ion-button[_ngcontent-%COMP%]{height:3rem;margin:5px;color:#fff;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:700;width:250px;border-radius:20px;border-style:solid;border-width:2px;align-items:center}ion-row[_ngcontent-%COMP%]{align-items:center;justify-content:center;padding-top:10%;padding-bottom:5%}p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-style:italic;font-weight:700;line-height:1.5;color:#6c71f7;text-align:center;padding-top:10%}.number-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.plus[_ngcontent-%COMP%], .min[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0px;--padding-top: 0px;--padding-bottom: 0px;--border-radius: 50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:20px}ion-input[_ngcontent-%COMP%]{text-align:center;width:60px}ion-list[_ngcontent-%COMP%]{text-align:center;width:170%}"]}),c})()}];let C=(()=>{var a;class c{}return(a=c).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[p.iI.forChild(v),p.iI]}),c})(),j=(()=>{var a;class c{}return(a=c).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[_.MD,g.YN,o.bv,C]}),c})()}}]);