{"ast":null,"code":"import _asyncToGenerator from \"C:/project_mengkerent/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/car-recommendations.service\";\nimport * as i3 from \"../../services/promo.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ionic/angular\";\nfunction HomePage_ng_container_32_swiper_slide_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"swiper-slide\")(1, \"ion-card\", 1)(2, \"ion-card-title\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"ion-thumbnail\")(6, \"img\", 31);\n    i0.ɵɵlistener(\"click\", function HomePage_ng_container_32_swiper_slide_1_Template_img_click_6_listener() {\n      const car_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.goToDetails(car_r3.car_unit.id));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"ion-card-title\", 32);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"ion-card\", 33)(12, \"ion-card-header\", 34)(13, \"ion-card-title\", 35);\n    i0.ɵɵtext(14, \"Detail\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"ion-card-content\", 36)(16, \"p\");\n    i0.ɵɵelement(17, \"ion-icon\", 37);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\");\n    i0.ɵɵelement(20, \"ion-icon\", 38);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\");\n    i0.ɵɵelement(23, \"ion-icon\", 39);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(25, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const car_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(car_r3.car_unit.car_category);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", car_r3.car_unit.car_photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(car_r3.car_unit.nama_mobil);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" \", car_r3.car_unit.seats, \" Seat\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", car_r3.car_unit.transmisi, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Rp\", car_r3.car_unit.price_24jam, \"/Day\");\n  }\n}\nfunction HomePage_ng_container_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, HomePage_ng_container_32_swiper_slide_1_Template, 26, 6, \"swiper-slide\", 29);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.recommendedCars);\n  }\n}\nfunction HomePage_ng_template_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\")(1, \"ion-card-content\")(2, \"p\");\n    i0.ɵɵtext(3, \"No car recommendations available.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction HomePage_ion_card_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 40)(1, \"ion-card-header\")(2, \"ion-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ion-card-content\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.promoTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.promoContent, \" \");\n  }\n}\nexport let HomePage = /*#__PURE__*/(() => {\n  var _HomePage;\n  class HomePage {\n    constructor(router, carRecommendationsService, promoService) {\n      this.router = router;\n      this.carRecommendationsService = carRecommendationsService;\n      this.promoService = promoService;\n      this.recommendedCars = [];\n      this.baseUrl = 'https://www.sipelantis.com/images/';\n      this.promoTitle = '';\n      this.promoContent = '';\n    }\n    ngOnInit() {\n      this.loadCarRecommendations();\n      this.loadPromo();\n    }\n    loadCarRecommendations() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response$ = yield _this.carRecommendationsService.getCarRecommendations();\n          response$.subscribe(response => {\n            console.log('API Response:', response);\n            // Filter recommended cars to only include those that are available\n            _this.recommendedCars = response.data.recommendedCars.filter(car => car.car_unit && car.car_unit.status === 'Unit Tersedia').map(car => ({\n              ...car,\n              car_unit: {\n                ...car.car_unit,\n                car_photo: _this.baseUrl + car.car_unit.car_photo\n              }\n            }));\n            console.log('Recommended Cars:', _this.recommendedCars);\n          }, error => {\n            console.error('Error fetching car recommendations:', error);\n          });\n        } catch (error) {\n          console.error('Error fetching car recommendations:', error);\n        }\n      })();\n    }\n    loadPromo() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this2.promoService.getPromo();\n          console.log('Promo API Response:', response);\n          // Assuming response contains data inside the 'data' property\n          if (response && response.data && Array.isArray(response.data) && response.data.length > 0) {\n            const promo = response.data[0];\n            _this2.promoTitle = promo.title;\n            _this2.promoContent = promo.content;\n          } else {\n            console.error('Invalid promo data format');\n          }\n        } catch (error) {\n          if (typeof error === 'string' && error.includes('Unauthorized')) {\n            console.error('Unauthorized: Please login to access promos.');\n          } else {\n            console.error('Error fetching promo:', error);\n          }\n        }\n      })();\n    }\n    SwiperSlideChanged(e) {\n      console.log('changed: ', e);\n    }\n    setSelectedCar(car) {\n      this.car = car;\n    }\n    // Menggunakan fungsi navigate dengan parameter untuk kategori mobil\n    onSubmits(car_category) {\n      this.router.navigate(['/cars', car_category.toLowerCase()]);\n    }\n    goToDetails(carId) {\n      this.router.navigate(['/details', carId]);\n    }\n    home() {\n      this.router.navigate(['/home']);\n    }\n    order() {\n      this.router.navigate(['/cars']);\n    }\n    transaksi() {\n      this.router.navigate(['/transaksi']);\n    }\n    profile() {\n      this.router.navigate(['/profile']);\n    }\n  }\n  _HomePage = HomePage;\n  _HomePage.ɵfac = function HomePage_Factory(t) {\n    return new (t || _HomePage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CarRecommendationsService), i0.ɵɵdirectiveInject(i3.PromoService));\n  };\n  _HomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _HomePage,\n    selectors: [[\"app-home\"]],\n    decls: 53,\n    vars: 7,\n    consts: [[\"noData\", \"\"], [2, \"background-color\", \"#6c71f7\"], [\"size\", \"3\", \"size-md\", \"2\", \"size-lg\", \"1\"], [\"alt\", \"logo\", \"src\", \"/assets/icon/mengkerent.png\", 2, \"height\", \"70px\"], [\"size\", \"9\", \"size-md\", \"2\", \"size-lg\", \"2\"], [3, \"fullscreen\"], [\"color\", \"black\", 2, \"font-family\", \"'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif\", \"text-align\", \"center\"], [3, \"fixed\"], [1, \"category\"], [\"size\", \"4\"], [2, \"background-color\", \"rgb(223, 223, 223)\", 3, \"click\"], [\"alt\", \"SUV-Car\", \"src\", \"/assets/images/suv.png\"], [\"alt\", \"MVP-Car\", \"src\", \"/assets/images/mvp.png\"], [\"alt\", \"Sedan-Car\", \"src\", \"/assets/images/sedan.png\"], [2, \"font-family\", \"'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif\", \"text-align\", \"center\"], [3, \"slidechange\", \"loop\", \"pagination\"], [4, \"ngIf\", \"ngIfElse\"], [\"color\", \"black\"], [\"style\", \"background-color:rgb(223, 223, 223)\", 4, \"ngIf\"], [\"id\", \"tabs\"], [\"slot\", \"bottom\"], [\"id\", \"home\", \"tab\", \"home\", 3, \"click\"], [\"name\", \"home-outline\"], [\"tab\", \"radio\", 3, \"click\"], [\"name\", \"car-outline\"], [\"tab\", \"transaksi\", 3, \"click\"], [\"name\", \"cash-outline\"], [\"tab\", \"library\", 3, \"click\"], [\"name\", \"person-outline\"], [4, \"ngFor\", \"ngForOf\"], [2, \"text-align\", \"center\", \"margin-top\", \"20px\", \"font-weight\", \"bold\"], [3, \"click\", \"src\"], [2, \"text-align\", \"center\", \"font-weight\", \"bold\"], [\"color\", \"medium\"], [2, \"background-color\", \"#494caf\", \"font-weight\", \"bold\"], [2, \"text-align\", \"center\"], [2, \"background-color\", \"#494caf\"], [\"name\", \"people\"], [\"slot\", \"end\", \"name\", \"cog-outline\"], [\"slot\", \"end\", \"name\", \"cash-outline\"], [2, \"background-color\", \"rgb(223, 223, 223)\"]],\n    template: function HomePage_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"ion-header\", 1)(1, \"ion-grid\")(2, \"ion-row\")(3, \"ion-col\", 2);\n        i0.ɵɵelement(4, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ion-col\", 4)(6, \"h1\");\n        i0.ɵɵtext(7, \"Mengkerent.Id\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(8, \"ion-content\", 5)(9, \"ion-text\", 6)(10, \"h1\");\n        i0.ɵɵtext(11, \"Car Category\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"ion-grid\", 7)(13, \"ion-row\", 8)(14, \"ion-col\", 9)(15, \"ion-card\", 10);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_card_click_15_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onSubmits(\"SUV\"));\n        });\n        i0.ɵɵelementStart(16, \"ion-card-content\")(17, \"ion-thumbnail\");\n        i0.ɵɵelement(18, \"img\", 11);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(19, \"ion-col\", 9)(20, \"ion-card\", 10);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_card_click_20_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onSubmits(\"MPV\"));\n        });\n        i0.ɵɵelementStart(21, \"ion-card-content\")(22, \"ion-thumbnail\");\n        i0.ɵɵelement(23, \"img\", 12);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(24, \"ion-col\", 9)(25, \"ion-card\", 10);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_card_click_25_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onSubmits(\"Sedan\"));\n        });\n        i0.ɵɵelementStart(26, \"ion-card-content\")(27, \"ion-thumbnail\");\n        i0.ɵɵelement(28, \"img\", 13);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(29, \"h1\", 14);\n        i0.ɵɵtext(30, \"Car Recommendations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"swiper-container\", 15);\n        i0.ɵɵlistener(\"slidechange\", function HomePage_Template_swiper_container_slidechange_31_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.SwiperSlideChanged($event));\n        });\n        i0.ɵɵtemplate(32, HomePage_ng_container_32_Template, 2, 1, \"ng-container\", 16)(33, HomePage_ng_template_33_Template, 4, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"ion-text\", 17)(36, \"h1\", 14);\n        i0.ɵɵtext(37, \"Promo\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(38, HomePage_ion_card_38_Template, 6, 2, \"ion-card\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 19)(40, \"ion-tab-bar\", 20)(41, \"ion-tab-button\", 21);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_tab_button_click_41_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.home());\n        });\n        i0.ɵɵelement(42, \"ion-icon\", 22);\n        i0.ɵɵtext(43, \" Home \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"ion-tab-button\", 23);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_tab_button_click_44_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.order());\n        });\n        i0.ɵɵelement(45, \"ion-icon\", 24);\n        i0.ɵɵtext(46, \" Order \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"ion-tab-button\", 25);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_tab_button_click_47_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.transaksi());\n        });\n        i0.ɵɵelement(48, \"ion-icon\", 26);\n        i0.ɵɵtext(49, \" Transaksi \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"ion-tab-button\", 27);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_tab_button_click_50_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.profile());\n        });\n        i0.ɵɵelement(51, \"ion-icon\", 28);\n        i0.ɵɵtext(52, \" Profile \");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const noData_r5 = i0.ɵɵreference(34);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"fixed\", true);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"loop\", true)(\"pagination\", true);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.recommendedCars.length > 0)(\"ngIfElse\", noData_r5);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.promoTitle || ctx.promoContent);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.IonCard, i5.IonCardContent, i5.IonCardHeader, i5.IonCardTitle, i5.IonCol, i5.IonContent, i5.IonGrid, i5.IonHeader, i5.IonIcon, i5.IonRow, i5.IonTabBar, i5.IonTabButton, i5.IonText, i5.IonThumbnail],\n    styles: [\"ion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 6px #0000001a}ion-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;padding-left:40%;margin-right:-50%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#fff}ion-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:40%}ion-grid[_ngcontent-%COMP%]{--size: 80px;--border-radius: 14px}ion-grid[_ngcontent-%COMP%]{display:flex}ion-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:25px;-webkit-border-radius:25px;-moz-border-radius:25px;-ms-border-radius:25px;-o-border-radius:25px}ion-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-child{margin-right:0}.swiper-container[_ngcontent-%COMP%]{--swiper-pagination-bullet-inactive-color: var(--ion-color-step-200, #cccccc);--swiper-pagination-color: var(--ion-color-primary, #0054e9);--swiper-pagination-progressbar-bg-color: rgba( var(--ion-text-color-rgb, 0, 0, 0), .25 );--swiper-scrollbar-bg-color: rgba(var(--ion-text-color-rgb, 0, 0, 0), .1);--swiper-scrollbar-drag-bg-color: rgba( var(--ion-text-color-rgb, 0, 0, 0), .5 )}.swiper-slide[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.swiper-slide[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:370px;margin:10px;text-align:center}.swiper-slide[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{justify-content:center;--size: 140px;--border-radius: 14px;object-fit:cover;overflow:hidden}.category[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--thumbnail-width: 100%;--thumbnail-height: 60px;--thumbnail-border-radius: 14px;width:var(--thumbnail-width);height:var(--thumbnail-height);border-radius:var(--thumbnail-border-radius);overflow:hidden}.category[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}ion-thumbnail[_ngcontent-%COMP%]{--thumbnail-width: 100%;--thumbnail-height: 300px;--thumbnail-border-radius: 14px;width:var(--thumbnail-width);height:var(--thumbnail-height);border-radius:var(--thumbnail-border-radius);overflow:hidden}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}\"]\n  });\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}